---
phase: 02-project-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/work/[slug].astro
  - src/styles/global.css
autonomous: true
requirements: [ROUTE-01, ROUTE-02, PAGE-01, PAGE-03, DESIGN-01, DESIGN-02, DESIGN-03]

must_haves:
  truths:
    - "Visiting /work/sotogrande, /work/jacob, /work/london-family, /work/penthouse, /work/lecce each returns a page (not 404)"
    - "Each page shows a full-width hero image that bleeds edge-to-edge above the header"
    - "Below the hero: project title and excerpt appear in a contained-width block matching site body margins"
    - "A back link (left-arrow All projects) appears near the title block and navigates to /work"
    - "Page typography, background colour, and font match the existing site (sofia-pro, #f3f3f3, #111)"
  artifacts:
    - path: "src/pages/work/[slug].astro"
      provides: "Dynamic route — static paths + project data + hero + title block skeleton"
      min_lines: 80
    - path: "src/styles/global.css"
      provides: "Project page CSS: hero full-bleed, title block, back link, gallery container"
      contains: ".project-hero"
  key_links:
    - from: "src/pages/work/[slug].astro"
      to: "src/layouts/Layout.astro"
      via: "import Layout from ../../layouts/Layout.astro and <Layout> wrapper"
      pattern: "import Layout"
    - from: "src/pages/work/[slug].astro"
      to: "public/work/[slug]/"
      via: "hero img src constructed as /work/{slug}/{heroFile}"
      pattern: "heroFile"
---

<objective>
Create the dynamic Astro route for all 5 project detail pages. Wire up project data (slug, title, excerpt, heroFile), render the full-bleed hero image and contained title/excerpt/back-link block, and add corresponding CSS to global.css.

Purpose: Establishes the page skeleton that Plan 02 fills with the gallery layout system.
Output: src/pages/work/[slug].astro (route + hero + header block) + CSS additions to global.css
</objective>

<execution_context>
@/Users/jp/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jp/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-project-pages/02-CONTEXT.md

# Existing page structure to match
@src/layouts/Layout.astro
@src/styles/global.css
@src/pages/work.astro

# Phase 1 summary — image locations and filename conventions
@.planning/phases/01-image-preparation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create [slug].astro with static paths, project data, hero, and title block</name>
  <files>src/pages/work/[slug].astro</files>
  <action>
Create `src/pages/work/[slug].astro`. The `src/pages/work/` directory does not exist yet — create it first.

PATH ENCODING NOTE: The project directory name contains a typographic apostrophe. Use Bash heredoc (cat > file << HEREDOC) NOT the Write tool. Get the canonical repo path with `git rev-parse --show-toplevel` first, then construct the output path from that.

If `git rev-parse --show-toplevel` fails (the .planning dir is not a git repo root), find the path to the existing work.astro file using `find` and derive the project root from it. The target file is `[project-root]/src/pages/work/[slug].astro`.

Static paths: Export `getStaticPaths()` returning one entry per slug. Each carries `props` containing: `slug`, `title`, `excerpt`, `heroFile`. Use a `const projects` array in the frontmatter (same pattern as work.astro — array of objects hardcoded in the file).

Project data to hardcode:
- sotogrande: title="Sotogrande, Family resort", excerpt="Purposely built holiday villa on the edges of a world famous golf course with stunning sea views", heroFile="1.00.webp"
- jacob: title="Jacob David, Beauty Emporio, Milan, Italy", excerpt="Luxury beauty and hair salon specialising in high end fashion styling and aesthetic medicine", heroFile="3.00-verdina-da-sistemare.webp"
- london-family: title="London family home", excerpt="Complete residential renovation of two separate 1930s houses merged together", heroFile="2.01.webp"
- penthouse: title="London Penthouse", excerpt="Complete residential refurbishment of a penthouse in the heart of leafy Hampstead", heroFile="4.00.webp"
- lecce: title="Lecce, Boutique BnB", excerpt="Complete refurbishment of an apartment into a boutique bnb", heroFile="5.00.webp"

Props destructuring: `const { slug, title, excerpt, heroFile } = Astro.props;`

HTML structure to implement:
```
Layout title="{title} | Inkfield"
  article.project-page
    div.project-hero
      img src=/work/{slug}/{heroFile} alt={title}
    div.project-header.grid-content
      a.project-back href=/work  (text: left-arrow All projects)
      h1.project-title  {title}
      p.project-excerpt  {excerpt}
    div.project-gallery.grid-content
      (empty — Plan 02 fills this)
```

Import Layout: `import Layout from "../../layouts/Layout.astro";` (two directory levels up from src/pages/work/).

The .project-gallery div stays empty in this plan — Plan 02 adds gallery rendering inside it. This is intentional scaffolding.
  </action>
  <verify>
    <automated>find /Users/jp/Documents -maxdepth 12 -path "*/src/pages/work/*slug*" -type f 2>/dev/null | grep -c "slug"</automated>
    <manual>Run `npx astro dev` from project root and visit http://localhost:4321/work/sotogrande — page loads (no 404), shows hero image and title "Sotogrande, Family resort". Visit /work/lecce and /work/jacob to confirm other slugs work. The back link navigates to /work.</manual>
  </verify>
  <done>All 5 project URLs return rendered pages. Hero image and title/excerpt/back-link visible on each. Dev server reports no TypeScript or build errors.</done>
</task>

<task type="auto">
  <name>Task 2: Add project page CSS to global.css</name>
  <files>src/styles/global.css</files>
  <action>
Append a PROJECT PAGES section to `src/styles/global.css`. Match existing conventions: kebab-case class names, hex colour values (#111, #f3f3f3, #666), no CSS custom properties, section header comment.

PATH ENCODING NOTE: Use Bash heredoc append (`cat >> ...`) NOT the Edit tool.

CSS to append:

```css
/* PROJECT PAGES */

/* Hero: full-bleed, no container, no side margins */
.project-hero {
  width: 100%;
}

.project-hero img {
  width: 100%;
  height: auto;
  display: block;
  min-height: 50vh;
  object-fit: cover;
}

/* Title block: contained width via .grid-content, comfortable vertical rhythm */
.project-header {
  padding-top: 60px;
  padding-bottom: 48px;
}

.project-back {
  display: inline-block;
  font-size: 13px;
  color: #666;
  text-decoration: none;
  letter-spacing: 0.5px;
  margin-bottom: 24px;
  transition: color 0.2s ease;
}

.project-back:hover {
  color: #111;
}

.project-title {
  font-size: 28px;
  font-weight: 400;
  margin: 0 0 14px 0;
  letter-spacing: 0.5px;
}

.project-excerpt {
  font-size: 15px;
  color: #666;
  margin: 0;
  max-width: 640px;
  line-height: 1.7;
}

/* Gallery container — Plan 02 populates internals */
.project-gallery {
  padding-bottom: 120px;
}

/* PROJECT PAGES — Mobile */
@media (max-width: 768px) {
  .project-header {
    padding-top: 40px;
    padding-bottom: 32px;
  }

  .project-title {
    font-size: 22px;
  }
}
```
  </action>
  <verify>
    <automated>find /Users/jp/Documents -maxdepth 12 -path "*/inkfield/src/styles/global.css" -exec grep -c "project-hero" {} \;</automated>
    <manual>With dev server running, inspect /work/sotogrande: hero image spans full browser width with no side gaps, title block has comfortable padding within page margins, back link text is subdued grey (#666), font matches rest of site (sofia-pro).</manual>
  </verify>
  <done>global.css contains .project-hero, .project-header, .project-back, .project-title, .project-excerpt, .project-gallery rules. No existing styles broken (no selector collisions with work-page, grid-content, etc.).</done>
</task>

</tasks>

<verification>
After both tasks:
1. `npx astro build` exits 0 — no errors across all 5 static paths
2. All 5 project page URLs load in browser (no 404s)
3. Each page shows: full-width hero image, back link, project title, excerpt paragraph
4. Hero image reaches both edges of the viewport (no left/right gaps)
5. Title block aligns with .grid-content max-width (1600px centered, 20px side padding on mobile)
6. Font, background colour, and text colour match existing pages
</verification>

<success_criteria>
- src/pages/work/[slug].astro exists with 5 static paths and getStaticPaths()
- All 5 project pages render hero + title block in browser
- npx astro build succeeds with no errors
- Hero is full-bleed; title block is contained within .grid-content
- Visual style matches existing work.astro and Layout.astro conventions
</success_criteria>

<output>
After completion, create `.planning/phases/02-project-pages/02-01-SUMMARY.md` following the summary template.
</output>
